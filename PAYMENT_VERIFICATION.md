# 支付验证指南

## 概述

本指南详细说明如何安全地发放邀请码并验证支付用户身份，确保只有真正支付的用户才能获得访问权限。

## 支付验证流程

### 1. 用户支付流程

1. 用户在网站上选择"立即购买"
2. 选择支付方式（微信支付/支付宝）
3. 扫描二维码支付 ¥9.9
4. **重要**：支付时在备注中填写微信号
5. 支付完成后截图保存支付凭证

### 2. 用户领取验证码流程

1. 支付完成后，用户需要联系客服
2. 提供以下信息：
   - 支付截图（包含支付金额、时间、备注的微信号）
   - 微信号（与支付备注一致）
3. 客服验证支付信息后，发放验证码
4. 用户在网站上输入验证码解锁全部内容

## 验证码发放指南

### 前提条件

- 已设置好微信/支付宝收款账户
- 已准备好验证码生成工具（code-generator.html）
- 已在网站首页和支付页面显示联系方式

### 验证步骤

#### 第一步：验证支付截图

当用户联系你时，要求其提供：

1. **支付截图**，必须包含：
   - 支付金额（¥9.9）
   - 支付时间
   - 备注的微信号
   - 收款账户信息（确认是你的账户）

2. **验证要点**：
   - ✅ 支付金额是否为 ¥9.9
   - ✅ 支付时间是否在合理范围内（建议 24 小时内）
   - ✅ 备注的微信号是否与用户提供的微信号一致
   - ✅ 收款账户是否为你的账户

#### 第二步：检查重复发放

在发放验证码之前，检查：

1. 该微信号是否已经发放过验证码
2. 该支付订单是否已经被使用过
3. 验证码是否有效（未过期、未使用）

**建议**：使用 Excel 或 Google Sheets 记录已发放的验证码和对应的微信号。

#### 第三步：生成验证码

1. 打开 `code-generator.html`
2. 输入验证码长度（建议 8-12 位）
3. 点击"生成验证码"
4. 复制生成的验证码

#### 第四步：发放验证码

1. 将验证码发送给用户
2. 告知用户验证码的有效期（建议 7 天）
3. 提醒用户在网站上输入验证码解锁内容

#### 第五步：记录发放信息

记录以下信息到表格：

| 日期 | 微信号 | 支付时间 | 验证码 | 状态 | 备注 |
|------|--------|----------|--------|------|------|
| 2024-01-01 | user123 | 2024-01-01 10:30 | ABC12345 | 已发放 | 首次购买 |
| 2024-01-02 | user456 | 2024-01-02 14:20 | DEF67890 | 已使用 | 正常 |

## 安全建议

### 防止欺诈

1. **验证支付截图**：
   - 检查截图是否真实（无 PS 痕迹）
   - 核对收款账户信息
   - 确认支付时间合理

2. **防止重复使用**：
   - 每个支付订单只能发放一个验证码
   - 记录已使用的支付订单号
   - 定期检查是否有重复发放

3. **验证码管理**：
   - 验证码设置有效期（建议 7 天）
   - 验证码使用后立即失效
   - 定期清理过期验证码

### 客服沟通建议

1. **响应时间**：
   - 工作时间内 2 小时内回复
   - 非工作时间 24 小时内回复

2. **沟通要点**：
   - 礼貌友好，耐心解答
   - 明确要求提供支付截图
   - 验证通过后快速发放验证码
   - 告知验证码使用方法

3. **常见问题处理**：
   - 用户忘记备注微信号：要求提供支付截图和微信号，核对后发放
   - 支付截图模糊：要求重新提供清晰截图
   - 验证码输入错误：检查验证码是否正确，重新发放
   - 验证码过期：生成新验证码发放

## 自动化建议（可选）

### 使用 Google Sheets + Google Apps Script

如果你希望自动化部分流程，可以考虑：

1. **创建 Google Sheets 表格**：
   - 包含字段：日期、微信号、支付时间、验证码、状态、备注

2. **编写 Google Apps Script**：
   - 自动生成验证码
   - 检查是否重复发放
   - 记录发放信息

3. **集成到客服工具**：
   - 使用企业微信、钉钉等工具的机器人
   - 自动回复常见问题
   - 自动发放验证码（需谨慎）

## 联系方式设置

### 网站显示

在以下页面显示你的联系方式：

1. **首页**：在底部或侧边栏
2. **支付页面**：在支付模态框中
3. **解锁页面**：在支付说明中

### 推荐联系方式

1. **微信**：
   - 显示微信号
   - 提供微信二维码（可选）
   - 设置自动回复

2. **邮箱**：
   - 用于接收支付截图
   - 设置自动回复确认收到

3. **QQ**（可选）：
   - 作为备用联系方式

## 常见问题 FAQ

### Q1：用户支付后没有备注微信号怎么办？

**A**：要求用户提供支付截图和微信号，核对支付截图中的收款账户和支付时间，确认无误后发放验证码。

### Q2：如何防止用户使用同一张支付截图多次领取验证码？

**A**：记录已发放验证码对应的支付订单号或支付时间，每次发放前检查是否已使用过。

### Q3：验证码有效期设置多长合适？

**A**：建议 7 天，既能给用户足够的时间使用，又能防止验证码长期未使用。

### Q4：用户说验证码输入错误怎么办？

**A**：
1. 检查验证码是否正确（区分大小写）
2. 确认验证码是否已过期
3. 确认验证码是否已被使用
4. 如有问题，重新发放验证码

### Q5：如何处理退款请求？

**A**：
1. 确认退款原因
2. 如需退款，作废对应的验证码
3. 在记录中标注退款信息
4. 退款后验证码失效

## 总结

通过以上流程，你可以：

1. ✅ 安全地验证支付用户身份
2. ✅ 防止欺诈和重复使用
3. ✅ 高效地发放验证码
4. ✅ 提供良好的用户体验

**关键要点**：
- 始终要求提供支付截图
- 核对支付备注的微信号
- 记录所有发放信息
- 定期检查重复发放
- 保持良好的客服沟通

如有任何问题，请参考项目文档或联系技术支持。
